{% extends "base.html" %}
{% from "macros/icons.html" import icon %}
{% block content %}

<h1>Start</h1>

<!-- Hero Search (DaisyUI + Elevation Principle) -->
<section class="my-8 md:my-12">
  <form action="/library" method="get" class="max-w-2xl mx-auto">
    <!-- Search bar: Surface on Canvas (bg-base-100 on bg-base-200 page) -->
    <div class="bg-base-100 rounded-xl shadow-lg p-1">
      <!-- Desktop: Joined search bar -->
      <div class="join w-full hidden md:flex">
        <label class="input input-bordered join-item flex-1">
          {{ icon("search", "size-5 opacity-50") }}
          <input type="text" name="q" class="grow" placeholder="Suche in deiner Library..." autofocus>
        </label>
        <select name="mode" class="select select-bordered join-item">
          <option value="semantic">Semantic</option>
          <option value="fts">Keyword</option>
        </select>
        <button type="submit" class="btn btn-primary join-item" aria-label="Suchen">
          {{ icon("arrow-right", "size-5 shrink-0") }}
        </button>
      </div>

      <!-- Mobile: Stacked layout inside surface -->
      <div class="flex flex-col gap-2 p-2 md:hidden">
        <label class="input input-bordered flex-1">
          {{ icon("search", "size-5 opacity-50") }}
          <input type="text" name="q" class="grow" placeholder="Suche...">
        </label>
        <div class="flex gap-2">
          <select name="mode" class="select select-bordered flex-1">
            <option value="semantic">Semantic</option>
            <option value="fts">Keyword</option>
          </select>
          <button type="submit" class="btn btn-primary" aria-label="Suchen">
            {{ icon("arrow-right", "size-5 shrink-0") }}
          </button>
        </div>
      </div>
    </div>
  </form>

  <!-- Hint text -->
  <p class="flex items-center justify-center gap-2 mt-4 text-sm text-base-content/60">
    {{ icon("zap", "size-4 shrink-0 text-primary") }}
    <span>Semantische Suche findet Bedeutung, nicht nur Woerter</span>
  </p>
</section>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6">
  <div class="card bg-base-100 shadow-md">
    <div class="card-body">
      <h2 class="card-title">Library</h2>
      <p>Inhalte durchsuchen (Keyword jetzt, Semantik spaeter).</p>
      <div class="card-actions justify-end">
        <a class="btn btn-outline" href="/library">Open</a>
      </div>
    </div>
  </div>

  <div class="card bg-base-100 shadow-md">
    <div class="card-body">
      <h2 class="card-title">Digests</h2>
      <p>Saved Queries als Basis fuer Digests.</p>
      <div class="card-actions justify-end">
        <a class="btn btn-outline" href="/digest">Open</a>
      </div>
    </div>
  </div>

  <div class="card bg-base-100 shadow-md">
    <div class="card-body">
      <h2 class="card-title">Drafts</h2>
      <p>Draft Historie und final markieren (spaeter).</p>
      <div class="card-actions justify-end">
        <a class="btn btn-outline" href="/drafts">Open</a>
      </div>
    </div>
  </div>

  <div class="card bg-base-100 shadow-md">
    <div class="card-body">
      <h2 class="card-title">Admin</h2>
      <p>Settings, Diagnose, spaeter Budgets und Runs.</p>
      <div class="card-actions justify-end">
        <a class="btn btn-outline" href="/admin">Open</a>
      </div>
    </div>
  </div>
</div>

{% endblock %}
